<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link rel="stylesheet" href="css/app.css" />
  </head>
  <body>
    <div id="app">
      <div class="container">
        <!-- nav -->
        <nav class="navbar navbar-default navbar-fixed-top">
          <div class="navbar-text ms-auto d-flex">
            <button
              class="btn btn-sm btn-outline-success"
              @click="style.sliderStatus = !style.sliderStatus"
            >
              <i class="fas fa-dollar-sign"></i>
            </button>
            <div class="dropdown ml-2" v-if="cart.length > 0">
              <!-- dropdwon -->
              <div class="btn-group">
                <button
                  type="button"
                  class="btn btn-secondary dropdown-toggle"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <span class="badge text-bg-info">{{ cartQty }}</span>
                  <i class="fas fa-shopping-cart mx-2"></i>
                  <!-- {{ cartTotal | currencyFormat }} -->
                  <price :value="Number(cartTotal)"></price>
                </button>
                <div class="dropdown-menu dropdown-menu-end">
                  <div v-for="(item, index) in cart" :key="index">
                    <div class="dropdown-item-text text-nowrap text-right">
                      <span
                        class="badge badge-pill text-bg-warning align-text-top"
                      >
                        {{ item.qty }}
                      </span>
                      {{ item.product.name }}
                      <b
                        >{{ item.product.price * item.qty | currencyFormat }}</b
                      >
                      <!-- @click.stop -> digunakan untuk meberhentikan aksi selanjutnya -->
                      <a
                        href="#"
                        class="badge text-bg-danger"
                        @click.stop="deleteItem(index)"
                        >-</a
                      >
                    </div>
                  </div>
                </div>
              </div>
              <!-- end dropdown -->
            </div>
          </div>
        </nav>
        <!-- end nav -->
        <h1>My Shop</h1>
        <!-- membuat transisi dengan vitur Vue.js -->
        <transition
          name="custom"
          enter-active-class="animate__animated animate__fadeInDown"
          leave-active-class="animate__animated animate__slideOutRight"
        >
          <div v-if="style.sliderStatus">
            <div class="card" :class="sliderState">
              <div class="card-body">
                <label for="" class="form-label">Max : </label>
                <input
                  type="number"
                  :class="style.label"
                  :style="{ 'width': style.inputWidth + 'px', 'text-align': 'center' }"
                  v-model="maximum"
                />
                <input
                  type="range"
                  :class="['form-range', 'mt-2']"
                  min="0"
                  max="200"
                  v-model="maximum"
                />
              </div>
            </div>
          </div>
        </transition>
        <!-- melakukan for loop -->
        <!-- lakukan transtition grup -->
        <product-list :products="products" :maximum="maximum" @add="addItem"></product-list>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
      integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="js/app.js"></script>
  </body>
</html>
